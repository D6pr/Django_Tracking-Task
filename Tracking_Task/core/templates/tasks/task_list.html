{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Список задач</title>

    <!-- Bootstrap -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >

    <!-- Основний стиль -->
    <link rel="stylesheet" href="{% static 'css/tasks.css' %}">
</head>
<body>
    <div class="tasks-container">
        <div class="tasks-card shadow">
            <!-- Верхний блок авторизации -->
            <div class="d-flex justify-content-end align-items-center mb-4">
                {% if user.is_authenticated %}
                    <span class="me-3">Привіт, {{ user.username }}!</span>
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-outline-primary btn-sm">Вийти</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-primary me-2">Увійти</a>
                    <a href="{% url 'register' %}" class="btn btn-primary">Зареєструватися</a>
                {% endif %}
            </div>

            <h1 class="text-center mb-4">Список задач</h1>

            <div class="text-center mb-4">
                <a href="{% url 'task_create' %}" class="btn btn-success">
                    Створити задачу
                </a>
            </div>

            <ul class="list-group">
                {% for task in tasks %}
                    <li class="list-group-item d-flex justify-content-between align-items-center task-item">
                        <a href="{% url 'task_detail' task.pk %}" class="task-title">
                            {{ task.title }}
                        </a>
                        <span class="task-meta">
                            {{ task.get_status_display }} | {{ task.get_priority_display }}
                        </span>
                    </li>
                {% empty %}
                    <li class="list-group-item text-center text-muted">
                        Задач немає
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</body>
</html>
